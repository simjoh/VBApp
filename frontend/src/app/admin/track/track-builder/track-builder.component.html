<brevet-toast></brevet-toast>

<!-- Track Building Options -->
<div class="track-builder-container">
  <ng-container *ngIf="(editMode$ | async) === false">
    <div class="building-options">
      <div class="option-card selected" (click)="setMode()">
        <div class="option-icon">
          <i class="pi pi-plus"></i>
        </div>
        <h3 class="option-title">Skapa nytt arrangemang</h3>
        <p class="option-description">Skapa ett helt nytt arrangemang i loppservice med kalenderpost</p>
      </div>

      <div class="option-card disabled">
        <div class="option-icon">
          <i class="pi pi-file"></i>
        </div>
        <h3 class="option-title">Bygg från GPX-fil</h3>
        <p class="option-description">Importera en GPX-fil för att automatiskt skapa bana och kontroller</p>
        <span class="upcoming-badge">Kommande funktion</span>
      </div>

      <div class="option-card disabled">
        <div class="option-icon">
          <i class="pi pi-copy"></i>
        </div>
        <h3 class="option-title">Kopiera befintlig bana</h3>
        <p class="option-description">Skapa en ny bana baserad på en befintlig bana</p>
        <span class="upcoming-badge">Kommande funktion</span>
      </div>
    </div>
  </ng-container>

  <!-- Building Form -->
  <ng-container *ngIf="(editMode$ | async) === true">
    <div class="building-header">
      <button class="back-button" (click)="setMode()">
        <i class="pi pi-arrow-left"></i>
        <span>Tillbaka</span>
      </button>
      <div class="header-title">
        <h2>Skapa nytt arrangemang</h2>
        <p>Fyll i informationen nedan för att skapa ditt arrangemang och bana</p>
      </div>
    </div>

    <div class="form-container">
      <div class="form-column">
        <div class="form-section">
          <h2 class="section-title">Grundläggande information</h2>
          <brevet-track-builder-track-info-form></brevet-track-builder-track-info-form>
        </div>

        <div class="form-section">
          <h2 class="section-title">Kontroller</h2>
          <brevet-track-builder-controls-form></brevet-track-builder-controls-form>
        </div>
      </div>

      <div class="summary-column">
        <div class="summary-sticky">
          <brevet-track-builder-summary></brevet-track-builder-summary>
        </div>
      </div>
    </div>
  </ng-container>
</div>

