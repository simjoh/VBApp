<div class="mt-4 ml-2">

  <h3>Här kan du ladda upp deltagare med en csv fil</h3>
  <!--<input type="text" (ngModelChange)="updateTtrack()" pInputText [(ngModel)]="trackuid"/>-->

  <!--<brevet-track-selector (open)="updateTtrack($event)"></brevet-track-selector>-->

  <brevet-tracks-for-event-selector (trackChange)="updateTtrack($event)"></brevet-tracks-for-event-selector>

</div>

<div class="mt-3 col-8">
<p-fileUpload #primeFileUpload [disabled]="!trackuid" [fileLimit]="1" [accept]="'text/csv'"
  chooseLabel="Välj csv"
  uploadLabel="Ladda upp csv"
  [showCancelButton]="false"
  name="myfile[]"
  [customUpload]="true" (onProgress)="progressReport($event)" (uploadHandler)="myUploader($event)">
  <ng-template let-file pTemplate='file'>
    <h4>Valda filer</h4>
    <p-tag styleClass="">{{file.name}}  {{file.size}} bytes <button *ngIf="uploadedFiles.length === 0" class="pi pi-times p-button-sm p-button-icon-only" pButton type="button" label="Remove" (click)="removeFile(file, primeFileUpload)"></button></p-tag>
  </ng-template>
  <ng-template pTemplate="content">
    <ng-container *ngIf="uploadedFiles.length > 0">
    <h4 class="mt-2">Uppladdad fil</h4>
    <ng-container *ngFor="let file of uploadedFiles">
     <p-tag styleClass="mr-2" icon="pi pi-check" severity="success" value="{{file.name}} - {{file.size}} bytes"></p-tag>
    </ng-container>
    </ng-container>
  </ng-template>
</p-fileUpload>
</div>

