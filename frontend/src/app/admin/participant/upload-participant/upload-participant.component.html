<div class="mt-4 col-12 lg:col-5 sm:col-12 ">
  <h3>Här kan du ladda upp deltagare med en csv fil</h3>
  <brevet-tracks-for-event-selector [styleClass]="'w-25 sm:w-full md:w-full'" (trackChange)="updateTtrack($event)"></brevet-tracks-for-event-selector>
</div>
<hr>

<div class="mt-3 col-12 lg:col-12 sm:col-12 ">
<p-fileUpload #primeFileUpload [disabled]="!trackuid" [fileLimit]="1" [accept]="'text/csv'"
  chooseLabel="Välj csv"
  uploadLabel="Ladda upp csv"
  [showCancelButton]="false"
  name="myfile[]"
  [customUpload]="true" (onProgress)="progressReport($event)" (uploadHandler)="myUploader($event)">
  <ng-template let-file pTemplate='file'>
    <h4>Valda filer</h4>
    <p-tag styleClass="">{{file.name}}  {{file.size}} bytes <button *ngIf="uploadedFiles.length === 0" class="pi pi-times p-button-sm p-button-icon-only" pButton type="button" label="Remove" (click)="removeFile(file, primeFileUpload)"></button></p-tag>
  </ng-template>
  <ng-template pTemplate="content">
    <ng-container *ngIf="uploadedFiles.length > 0">
    <h4 class="mt-2">Uppladdad fil</h4>
    <ng-container *ngFor="let file of uploadedFiles">
     <p-tag styleClass="mr-2" icon="pi pi-check" severity="success" value="{{file.name}} - {{file.size}} bytes"></p-tag>
    </ng-container>
    </ng-container>
  </ng-template>
</p-fileUpload>
</div>

