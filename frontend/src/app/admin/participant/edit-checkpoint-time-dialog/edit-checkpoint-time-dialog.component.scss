@import 'src/styles/shared/calendar-shared';

:host {
  display: block;
}

.dialog-container {
  display: flex;
  flex-direction: column;
  max-width: 100%;
  border-radius: var(--border-radius);
  background-color: var(--surface-card);
}

.dialog-header {
  padding: 0.75rem 1.25rem;
  border-bottom: 1px solid var(--surface-border);
}

.dialog-title {
  margin: 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--text-color);
}

.dialog-subtitle {
  margin-top: 0.25rem;
  font-size: 0.875rem;
  color: var(--text-color-secondary);
  line-height: 1.3;
}

.dialog-content {
  padding: 1rem 1.25rem;
  flex: 1 1 auto;
}

.dialog-footer {
  display: flex;
  justify-content: flex-end;
  gap: 0.5rem;
  padding: 0.75rem 1.25rem;
  border-top: 1px solid var(--surface-border);
}

:host ::ng-deep {
  .time-picker-calendar {
    .p-inputtext {
      border-radius: var(--border-radius);
      transition: border-color 0.2s, box-shadow 0.2s;
      &:hover { border-color: var(--primary-400); }
      &:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 1px var(--primary-200);
      }
    }

    .p-button.p-datepicker-trigger {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
      cursor: pointer;
      &:hover {
        background-color: var(--primary-600);
        border-color: var(--primary-600);
      }
      .pi-calendar { font-size: 1rem; }
    }
  }

  .calendar-panel-compact {
    width: auto !important;
    min-width: 260px !important;
    overflow: hidden !important;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
    border-radius: var(--border-radius) !important;

    .p-datepicker {
      width: auto !important;
      padding: 0.25rem !important;

      .p-datepicker-header {
        padding: 0.25rem !important;
        margin-bottom: 0.25rem !important;

        .p-datepicker-title {
          .p-datepicker-month,
          .p-datepicker-year {
            font-size: 0.875rem !important;
            font-weight: 600 !important;
            margin: 0 0.125rem !important;
          }
        }

        .p-datepicker-prev,
        .p-datepicker-next {
          width: 1.5rem !important;
          height: 1.5rem !important;
        }
      }

      table {
        margin: 0 auto;
        font-size: 0.75rem;

        th {
          padding: 0.125rem !important;
          font-weight: 600 !important;
        }

        td {
          padding: 0.125rem !important;
          > span {
            width: 1.6rem !important;
            height: 1.6rem !important;
            border-radius: 50% !important;
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            font-size: 0.75rem !important;

            &.p-highlight {
              background: var(--primary-color) !important;
              color: var(--primary-color-text) !important;
            }
            &:hover { background: var(--primary-50) !important; }
          }
        }
      }

      .p-timepicker {
        padding: 0.25rem !important;
        border-top: 1px solid var(--surface-border) !important;
        margin-top: 0.25rem !important;

        > div {
          padding: 0 0.25rem !important;
          span { font-size: 0.875rem !important; }
          button {
            width: 1.25rem !important;
            height: 1.25rem !important;
            &:hover { background-color: var(--primary-50) !important; }
            .pi { font-size: 0.75rem !important; }
          }
          &:not(:last-child) { margin-right: 0.125rem !important; }
        }
      }

      .p-datepicker-buttonbar { padding: 0.25rem !important; }
    }
  }

  .p-button {
    &.p-button-primary {
      transition: background-color 0.2s, border-color 0.2s, box-shadow 0.2s;
      &:hover {
        background-color: var(--primary-600);
        border-color: var(--primary-600);
      }
    }

    &.p-button-secondary.p-button-outlined {
      color: var(--text-color-secondary);
      &:hover { background-color: var(--surface-hover); }
    }
  }
}
