<ng-container *ngIf="$tracksviewinformation | async as tracks">
  <p-table [value]="tracks" styleClass="p-datatable-sm p-datatable-gridlines p-datatable-striped" dataKey="trackRepresentation.track_uid"
           responsiveLayout="scroll">
    <ng-template pTemplate="header">
      <tr>
        <th class="w-auto"></th>
        <th class="lg:col-3">Bana</th>
        <th  class="lg:col-2">Länk till strava</th>
        <th class="lg:col-3">Datum</th>
        <th class="lg:col-1">Distans</th>
        <th  class="lg:col-2 md:col-2 sm:col-2">Mer</th>
        <th class="lg:col-1">Åtgärd</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-track let-expanded="expanded">
      <tr>
        <td>
          <button type="button" pButton pRipple [pRowToggler]="track" class="p-button-text p-button-rounded p-button-plain"
                  [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
        </td>
        <td>{{track.trackRepresentation.title}}</td>
        <td><a target="_blank" href="{{track.trackRepresentation.linktotrack}}">Banan på strava</a>
        </td>
        <td>{{track.trackRepresentation.start_date_time}}</td>
        <td>{{track.trackRepresentation.distance}}</td>
        <td><brevet-checkpoint-preview [track_uid]="track.trackRepresentation.track_uid"></brevet-checkpoint-preview></td>
        <td>
          <button [disabled]="!isPossibleToDelete(track.trackRepresentation)" (click)="remove(track.trackRepresentation)" pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning ml-2 sm-0 p-mr-1"></button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="rowexpansion" let-track>
      <td colspan="7">
        <brevet-checkpoint-table [checkpoints]="track.trackRepresentation.checkpoints"></brevet-checkpoint-table>
      </td>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="7">Det finns inga banor på det här eventet.</td>
      </tr>
    </ng-template>
  </p-table>
</ng-container>




