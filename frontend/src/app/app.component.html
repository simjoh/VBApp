<ng-container *ngIf="init$ | async as init">
  <ng-container *ngIf="($authenticated | async) === true">
    <main id="main" role="main" class="flex-shrink-0 mb-0">
<!--      Lägg in topbanner med info om vem som är inloggad språkval samt logga ut länk-->
<!--      <brevet-menu></brevet-menu>-->
      <!-- Top Menu Header - Only for Competitors -->
      <div class="admin-header" *ngIf="shouldShowTopMenu$ | async">
        <brevet-menu></brevet-menu>
        <div class="header-controls">
          <app-flag-language-selector></app-flag-language-selector>
        </div>
      </div>

      <!-- Admin Layout -->
      <div class="admin-layout" [class.competitor-layout]="!(shouldShowSidebar$ | async)">
          <!-- Slide-in Menu Trigger - Only visible on smaller screens -->
          <div class="slide-menu-trigger"
               *ngIf="shouldShowSidebar$ | async"
               (click)="toggleSidebar()">
            <div class="slide-menu-icon">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>

        <!-- Sidebar Backdrop - Only visible on smaller screens when sidebar is open -->
        <div class="sidebar-backdrop"
             *ngIf="(shouldShowSidebar$ | async) && (sidebarOpen$ | async)"
             (click)="toggleSidebar()">
        </div>

        <!-- Sidebar Navigation - For Admin and Volunteer Users -->
        <brevet-sidebar *ngIf="shouldShowSidebar$ | async"></brevet-sidebar>

        <!-- Main Content Area -->
        <div class="admin-main" [class.full-width]="!(shouldShowSidebar$ | async)">
          <div class="admin-content">
            <router-outlet></router-outlet>
          </div>
        </div>
      </div>
    </main>
  </ng-container>
  <ng-container *ngIf="($authenticated | async) === false">
   <brevet-login></brevet-login>
  </ng-container>
</ng-container>
<brevet-loader></brevet-loader>
<!--  Lägg in footer-->
<brevet-toast></brevet-toast>

